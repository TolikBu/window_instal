(()=>{"use strict";(()=>{const e=document.querySelector(".button"),t=document.querySelector(".header-modal"),n=document.querySelector(".overlay");e.addEventListener("click",(()=>{n.style.display="block",t.style.display="block"})),n.addEventListener("click",(e=>{e.target.closest(".header-modal")&&!e.target.classList.contains("header-modal__close")||(n.style.display="none",t.style.display="none")}))})(),document.querySelector(".benefits-wrap"),document.querySelectorAll(".benefits__item"),(e=>{const t=document.querySelector(".count_1 span"),n=document.querySelector(".count_2 span"),o=document.querySelector(".count_3 span"),l=document.querySelector(".count_4 span"),a=function(e){return("0"+e).slice(-2)};setInterval((()=>{let r=(()=>{let t=(new Date(e).getTime()-(new Date).getTime())/1e3;return{timeRemaining:t,days:Math.floor(t/60/60/24),hours:Math.floor(t/60/60%24),minutes:Math.floor(t/60%60),seconds:Math.floor(t%60)}})();t.textContent=`${a(r.days)}`,n.textContent=`${a(r.hours)}`,o.textContent=`${a(r.minutes)}`,l.textContent=`${a(r.seconds)}`,r.timeRemaining<0&&(t.textContent="00",n.textContent="00",o.textContent="00",l.textContent="00")}),1e3)})("22 january 2022"),document.querySelectorAll(".document").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault()}))})),(()=>{const e=document.getElementById("smooth-scroll"),t=document.getElementById("header");e.style.display="none",e.addEventListener("click",(n=>{n.preventDefault(),t.scrollIntoView({behavior:"smooth",block:"start"}),e.style.display="none"})),window.onscroll=function(){document.body.scrollTop>500||document.documentElement.scrollTop>500?e.style.display="block":e.style.display="none"}})(),(()=>{document.querySelectorAll(".order-form");const e=document.getElementById("calc-input");document.querySelectorAll('[name="fio"]').forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^а-яА-Яa-zA-Z\s]/gi,"")})),e.addEventListener("blur",(e=>{e.target.value=e.target.value.trim(),e.target.classList.contains("required")&&e.target.value&&(e.target.value=e.target.value.split(/\ +/).map((e=>e[0].toUpperCase()+e.slice(1).toLowerCase())).join(" ")),e.target.value=e.target.value}))})),e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^0-9]/g,"")}))})(),(({someElem:e=[]})=>{document.querySelectorAll(".form-horizontal").forEach((t=>{const n=t.querySelectorAll("input");t.addEventListener("submit",(o=>{o.preventDefault();const l=new FormData(t),a={};var r;l.forEach(((e,t)=>{a[t]=e})),e.forEach((e=>{const t=document.getElementById(e.id);"input"===e.type&&(a[e.id]=t.value)})),(e=>{let t=!0;return e.forEach((n=>{n.classList.contains("success")&&(t=!1),(e[0].value.length<3||e[1].value.length<18)&&(t=!1)})),t})(n)?(r=a,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((e=>{n.forEach((e=>{e.value=""}))})).catch((e=>{console.log(e)})):alert("Введит имя не короче 3-х символов, телефон должен содержать 11 цифр")}))}))})({someElem:[{type:"input",id:"calc-total"}]}),function(e,t="+7 (___) ___-__-__"){const n=document.querySelectorAll(e);function o(e){const n=e.keyCode,o=t,l=o.replace(/\D/g,""),a=this.value.replace(/\D/g,"");console.log(o);let r=0,c=o.replace(/[_\d]/g,(function(e){return r<a.length?a.charAt(r++)||l.charAt(r):e}));r=c.indexOf("_"),-1!=r&&(c=c.slice(0,r));let s=o.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");s=new RegExp("^"+s+"$"),(!s.test(this.value)||this.value.length<5||n>47&&n<58)&&(this.value=c),"blur"==e.type&&this.value.length<5&&(this.value="")}for(const e of n)e.addEventListener("input",o),e.addEventListener("focus",o),e.addEventListener("blur",o)}('[name="phone"]'),((e=100)=>{const t=document.querySelector(".calc-block"),n=document.getElementById("calc-type"),o=document.getElementById("calc-type-material"),l=document.getElementById("calc-input"),a=document.getElementById("calc-total");t.addEventListener("input",(t=>{t.target!==n&&t.target!==l&&t.target!==o||(()=>{let t=+n.options[n.selectedIndex].value,r=+o.options[o.selectedIndex].value,c=l.value,s=0;s=n.value&&o.value&&l.value?e*t*r*c:0,a.value=s,(({timing:e,draw:t,duration:n})=>{let o=performance.now();requestAnimationFrame((function l(a){let r=(a-o)/n;r>1&&(r=1);let c=e(r);t(c),r<1&&requestAnimationFrame(l)}))})({duration:300,timing:e=>Math.pow(e,2),draw(e){a.value=Math.round(e*s)}})})()}))})(100)})();